---
allowed-tools: Read, LS, Glob, Write, Edit, MultiEdit, Grep, Bash, TodoWrite
description: "セッションコンテキストとGit履歴を活用して ai-guide ドキュメントを最新の実装状況に更新"
---

# AI Guide 補完ワークフロー

## 最重要原則

**コンテキストを最小限に保つ** - ai-guide は将来 AI が実装する際に必要な最小限の情報のみ記載

### 記載すべき内容

- 実装パターンとベストプラクティス（30 行以内のコード例）
- プロジェクト固有の規約や制約
- よくあるエラーと対処法
- 重要な設計判断の背景

### 記載を避ける内容

- 詳細な実装例（50 行を超えるコード）
- API の全仕様（外部ドキュメントへのリンクで十分）
- 具体的すぎる個別事例
- 一般的なライブラリの使い方

## ワークフロー

### 1. セッションコンテキストから変更内容を把握

セッション内の情報を優先的に活用：

- 実装した機能や修正内容
- 使用した新しいパターンや設計判断
- 遭遇した問題と解決策
- ユーザーからのフィードバック

### 2. ai-guide の確認と更新

既存ドキュメントの確認：

```bash
Glob: **/ai-guide/*.md
```

更新が必要な箇所の特定：

- 新しい実装パターンが追加された場合
- 既存の説明が古くなった場合
- 重要な設計変更があった場合

### 3. ドキュメント更新の実行

更新時の指針：

- **簡潔に**: 要点を 30 行以内にまとめる
- **汎用的に**: 特定の実装に依存しない形で記載
- **実用的に**: 次回 AI が参照する可能性が高い内容に絞る

## チェックリスト

更新前に以下を確認：

- [ ] 追加内容は 30 行以内か？
- [ ] 汎用的なパターンとして記載されているか？
- [ ] 次回 AI が参照する可能性は高いか？
- [ ] 既存の構造を維持しているか？
- [ ] コード例は最小限かつ本質的か？

## 出力形式

分析結果は以下の形式で報告:

1. **セッションコンテキストからの要約**（利用可能な場合）
   - 実装した機能の概要
   - 主要な設計判断
   - 解決した課題
2. **発見された変更点の要約**
3. **不足しているドキュメントの特定**
4. **推奨される補完内容**
5. **実際の補完作業の実行**

この一連のワークフローにより、実装後のドキュメントメンテナンスを体系的に行い、プロジェクトの知識ベースを最新に保ちます。
